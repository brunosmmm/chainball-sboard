
<RootWidget>:
    disabled: False
    TabbedPanel:
        do_default_tab: False
        TabbedPanelItem:
            text: 'Game control'
            BoxLayout:
                id: gamectrltab
                padding: 10
                spacing: 10

                GridLayout:
                    cols: 7
                    BoxLayout:
                        #FlowControl
                        padding: 10
                        spacing: 10
                        size_hint_x: 0.25
                        orientation: 'vertical'

                        Label:
                            text: 'Game flow control'
                            size_hint_y: 0.2

                        Button:
                            text: 'Start Game'
                            on_press: root.do_start_game()

                        Button:
                            text: 'Stop Game'
                            on_press: root.do_end_game()

                        Button:
                            text: 'Override pairing'
                            on_press: root.force_pairing()
                        Button:
                            text: 'Remove players'
                            on_press: root.do_remove_all()

                        Button:
                            text: 'Pause/unpause timer'
                            on_press: root.do_pause_unpause()

                    BoxLayout:
                        #GameStatus
                        padding: 5
                        spacing: 10
                        orientation: 'vertical'
                        BoxLayout:
                            size_hint_y: 0.1
                            orientation: 'horizontal'
                            Label:
                                text: 'Game Identifier #:'
                            Label:
                                id: gidlabel
                                text: ''
                        BoxLayout:
                            size_hint_y: 0.1
                            orientation: 'horizontal'
                            Label:
                                text: 'Game Status:'
                            Label:
                                id: statuslabel
                                text: ''
                        BoxLayout:
                            size_hint_y: 0.05
                            orientation: 'horizontal'
                            Label:
                                text: 'Game Timer:'
                            Label:
                                id: timerlabel
                                text: '00:00'
                        BoxLayout:
                            padding: 5
                            size_hint_y: 0.05
                            orientation: 'horizontal'
                            Label:
                                text: 'Player'
                            Label:
                                text: 'Score'
                            Label:
                                text: 'Indirect\nControl'
                            Label:
                                text: 'Scoring/Referee\nTools'
                        BoxLayout:
                            id: playergrid
                            orientation: 'vertical'
                            spacing: 10
                            BoxLayout:
                                id: psettings0
                                spacing: 10
                                orientation: 'horizontal'
                                Button:
                                    id: pname0
                                    markup: True
                                    text: ''
                                    on_press: root.handle_player_button(0)
                                #Label:
                                #    id: pscore0
                                #    text: ''
                                ScoreSpinner:
                                    id: pscore0
                                    player: 0
                                    disabled: True
                                BoxLayout:
                                    orientation: 'vertical'
                                    id: pindirect0
                                    #spacing: 5
                                    Button:
                                        text: '+1'
                                        on_press: root.do_incr_score(0)

                                    Button:
                                        text: '-1'
                                        on_press: root.do_decr_score(0)

                                    Button:
                                        text: 'F'
                                        on_press: root.do_force_serve(0)
                                GridLayout:
                                    cols: 3
                                    id: preferee0
                                    spacing: 5
                                    Button:
                                        text: 'DB'
                                        on_press: root.register_scoring_event('deadball', 0)
                                    Button:
                                        text: 'CB'
                                        on_press: root.register_scoring_event('chainball', 0)
                                    Button:
                                        text: 'JB'
                                        on_press: root.register_scoring_event('jailbreak', 0)
                                    Button:
                                        text: 'SM'
                                        on_press: root.register_scoring_event('sailormoon', 0)
                                    Button:
                                        text: 'RM'
                                        on_press: root.register_scoring_event('ratmeat', 0)
                                    Button:
                                        text: 'MS'
                                        on_press: root.register_scoring_event('mudskipper', 0)
                                    Button:
                                        text: 'DF'
                                        on_press: root.register_scoring_event('doublefault', 0)
                            BoxLayout:
                                spacing: 10
                                id: psettings1
                                orientation: 'horizontal'
                                Button:
                                    id: pname1
                                    markup: True
                                    text: ''
                                    on_press: root.handle_player_button(1)
                                ScoreSpinner:
                                    id: pscore1
                                    player: 1
                                    disabled: True
                                BoxLayout:
                                    orientation: 'vertical'
                                    id: pindirect1
                                    #spacing: 5
                                    Button:
                                        text: '+1'
                                        on_press: root.do_incr_score(1)

                                    Button:
                                        text: '-1'
                                        on_press: root.do_decr_score(1)

                                    Button:
                                        text: 'F'
                                        on_press: root.do_force_serve(1)
                                GridLayout:
                                    cols: 3
                                    id: preferee1
                                    spacing: 5
                                    Button:
                                        text: 'DB'
                                        on_press: root.register_scoring_event('deadball', 1)
                                    Button:
                                        text: 'CB'
                                        on_press: root.register_scoring_event('chainball', 1)
                                    Button:
                                        text: 'JB'
                                        on_press: root.register_scoring_event('jailbreak', 1)
                                    Button:
                                        text: 'SM'
                                        on_press: root.register_scoring_event('sailormoon', 1)
                                    Button:
                                        text: 'RM'
                                        on_press: root.register_scoring_event('ratmeat', 1)
                                    Button:
                                        text: 'MS'
                                        on_press: root.register_scoring_event('mudskipper', 1)
                                    Button:
                                        text: 'DF'
                                        on_press: root.register_scoring_event('doublefault', 1)
                            BoxLayout:
                                orientation: 'horizontal'
                                id: psettings2
                                spacing: 10
                                Button:
                                    id: pname2
                                    markup: True
                                    text: ''
                                    on_press: root.handle_player_button(2)
                                ScoreSpinner:
                                    id: pscore2
                                    player: 2
                                    disabled: True
                                BoxLayout:
                                    orientation: 'vertical'
                                    id: pindirect2
                                    #spacing: 5
                                    Button:
                                        text: '+1'
                                        on_press: root.do_incr_score(2)

                                    Button:
                                        text: '-1'
                                        on_press: root.do_decr_score(2)

                                    Button:
                                        text: 'F'
                                        on_press: root.do_force_serve(2)
                                GridLayout:
                                    cols: 3
                                    id: preferee2
                                    spacing: 5
                                    Button:
                                        text: 'DB'
                                        on_press: root.register_scoring_event('deadball', 2)
                                    Button:
                                        text: 'CB'
                                        on_press: root.register_scoring_event('chainball', 2)
                                    Button:
                                        text: 'JB'
                                        on_press: root.register_scoring_event('jailbreak', 2)
                                    Button:
                                        text: 'SM'
                                        on_press: root.register_scoring_event('sailormoon', 2)
                                    Button:
                                        text: 'RM'
                                        on_press: root.register_scoring_event('ratmeat', 2)
                                    Button:
                                        text: 'MS'
                                        on_press: root.register_scoring_event('mudskipper', 2)
                                    Button:
                                        text: 'DF'
                                        on_press: root.register_scoring_event('doublefault', 2)
                            BoxLayout:
                                orientation: 'horizontal'
                                id: psettings3
                                spacing: 10
                                Button:
                                    id: pname3
                                    markup: True
                                    text: ''
                                    on_press: root.handle_player_button(3)
                                ScoreSpinner:
                                    id: pscore3
                                    player: 3
                                    disabled: True
                                BoxLayout:
                                    id: pindirect3
                                    orientation: 'vertical'
                                    #spacing: 5
                                    Button:
                                        text: '+1'
                                        on_press: root.do_incr_score(3)

                                    Button:
                                        text: '-1'
                                        on_press: root.do_decr_score(3)

                                    Button:
                                        text: 'F'
                                        on_press: root.do_force_serve(3)
                                GridLayout:
                                    id: preferee3
                                    cols: 3
                                    spacing: 5
                                    Button:
                                        text: 'DB'
                                        on_press: root.register_scoring_event('deadball', 3)
                                    Button:
                                        text: 'CB'
                                        on_press: root.register_scoring_event('chainball', 3)
                                    Button:
                                        text: 'JB'
                                        on_press: root.register_scoring_event('jailbreak', 3)
                                    Button:
                                        text: 'SM'
                                        on_press: root.register_scoring_event('sailormoon', 3)
                                    Button:
                                        text: 'RM'
                                        on_press: root.register_scoring_event('ratmeat', 3)
                                    Button:
                                        text: 'MS'
                                        on_press: root.register_scoring_event('mudskipper', 3)
                                    Button:
                                        text: 'DF'
                                        on_press: root.register_scoring_event('doublefault', 3)
        TabbedPanelItem:
            text: 'Game setup'
            id: gamesetuptab
        TabbedPanelItem:
            text: 'Debug & test'
            BoxLayout:
                id: debugtab
                orientation: 'horizontal'
                spacing: 10
                BoxLayout:
                    #TesingControl
                    spacing: 10
                    padding: 10
                    size_hint_x: 0.5
                    orientation: 'vertical'

                    Label:
                        text: 'Testing'
                        size_hint_y: 0.2

                    Button:
                        text: 'score 1 array test'
                        size_hint_y: 0.7
                        on_press: root.do_test_score_1()

                    Button:
                        text: 'score 2 array test'
                        size_hint_y: 0.7
                        on_press: root.do_test_score_2()

                    Button:
                        text: 'score 3 array test'
                        size_hint_y: 0.7
                        on_press: root.do_test_score_3()

                    Button:
                        text: 'score 4 array test'
                        size_hint_y: 0.7
                        on_press: root.do_test_score_4()

                BoxLayout:
                    id: announcebox
                    spacing: 5
                    orientation: 'vertical'
                    Label:
                        text: 'Announcement'
                        size_hint_y: 0.5
                    TextInput:
                        id: ann_header
                        multiline: False
                    TextInput:
                        id: ann_text
                        multiline: False
                    Button:
                        text: 'Announce'
                        on_press: root.do_announce

                BoxLayout:
                    id: sfxbox
                    spacing: 5
                    orientation: 'vertical'
                    size_hint_y: 0.8
                    Label:
                        text: 'SFX'
                        size_hint_y: 0.5

                    Spinner:
                        id: sfxname
                        values: ('-')

                    Button:
                        text: 'play'
                        on_press: root.do_sfx_play()

                BoxLayout:
                    spacing: 5
                    orientation: 'vertical'
                    Label:
                        text: 'Debug'
                    Button:
                        text: 'debug setup (2)'
                        on_press: root.do_debug_setup2()

                    Button:
                        text: 'debug setup (4)'
                        on_press: root.do_debug_setup4()
        TabbedPanelItem:
            text: 'Saved data'
            BoxLayout:
                id: saveddatatab
                orientation: 'vertical'
                Spinner:
                    id: gpersist
                    disabled: True
                    text: '-'
                    size_hint_y: 0.1

        TabbedPanelItem:
            text: 'Scoreboard'
            BoxLayout:
                orientation: 'vertical'
                spacing: 10
                padding: 10
                GridLayout:
                    cols: 2
                    spacing: 10
                    Label:
                        text: 'Scoreboard address'
                    TextInput:
                        id: scorebrdip
                        text: '1.1.1.1'
                    Label:
                        text: 'Scoreboard port'
                    TextInput:
                        id: scorebrdport
                        text: '80'
                Button:
                    text: 'Apply'
                    on_press: root.set_scoreboard_address()